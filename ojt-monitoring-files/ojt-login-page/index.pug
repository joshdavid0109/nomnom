meta(charset="UTF-8")
meta(name="viewport", content="width=device-width,initial-scale=1")
title Login Page
link(rel="stylesheet" type="text/css" href="/ojt-login-page/styles.css")
.login-box
  .blue-box
    .login-details-box
      h1 Log in
      hr
      h3 Adviser
      p Shaping skills and fostering growth.
  .white-box
    .slu-logo-box
      img.slu-logo(src="/ojt-images/slu-logo.png")
    form.login-fields-box#loginForm(method="POST")
      label(for="email") Email Address
      input#email(type="text", name="email")
      label(for="password") Password
      input#password(type="password", name="password")
      label.checkbox-container
        | Show Password

        input#showPasswordCheckbox(type="checkbox")
        span.checkmark
      button.login-button#loginButton(type="submit") Log in
    form#forgotPasswordForm
      label(for="email") Enter your email:
      input#forgotEmail(type="email", required)
      button(type="submit") Reset Password
script. 
  // Eventlistner for the login button
  document.getElementById('loginForm').addEventListener('submit', async (event) => {
      event.preventDefault(); // prevent default form submissive ay submission
      // retrieve values from the input fields (html)
      const adviserEmail = document.getElementById('email').value;
      const password = document.getElementById('password').value;

      // send adviserEmail and password to boss man server baby
      try {
          const response = await fetch('http://localhost:8080/ojt-login-page', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/x-www-form-urlencoded',
              },
              body: `adviserEmail=${adviserEmail}&password=${password}`,
          });

          if (response.ok) {
              const data = await response.text();
              console.log('Login successful:', data);
          } else {
              throw new Error('Authentication failed');
          }
      } catch (error) {
          console.error('Error:', error);
      }
  });

  // show password function
  function showPasswordToggle() {
      const passwordInput = document.getElementById('password');
      const showPasswordCheckbox = document.getElementById('showPasswordCheckbox');

      showPasswordCheckbox.addEventListener('change', function () {
          passwordInput.type = this.checked ? 'text' : 'password';
      });
  }

  showPasswordToggle();

